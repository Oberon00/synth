<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>src/xref.cpp</title>
        <link rel="stylesheet" href="../codestyle-colorful.css">
    </head>
    <body>
        <div class="highlight"><pre><span id="1L" class="Ln"><a href="xref.hpp.html"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">"xref.hpp"</span></a></span>
<span id="2L" class="Ln"></span>
<span id="3L" class="Ln"><a href="CgStr.hpp.html"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">"CgStr.hpp"</span></a></span>
<span id="4L" class="Ln"><a href="MultiTuProcessor.hpp.html"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">"MultiTuProcessor.hpp"</span></a></span>
<span id="5L" class="Ln"><a href="config.hpp.html"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">"config.hpp"</span></a></span>
<span id="6L" class="Ln"><a href="debug.hpp.html"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">"debug.hpp"</span></a></span>
<span id="7L" class="Ln"><a href="output.hpp.html"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">"output.hpp"</span></a></span>
<span id="8L" class="Ln"><a href="highlight.hpp.html"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">"highlight.hpp"</span></a></span>
<span id="9L" class="Ln"></span>
<span id="10L" class="Ln"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;</span><span class="cpf">boost</span><span class="cpf">/</span><span class="cpf">filesystem</span><span class="cpf">/</span><span class="cpf">path</span><span class="cpf">.</span><span class="cpf">hpp</span><span class="cpf">></span></span>
<span id="11L" class="Ln"></span>
<span id="12L" class="Ln"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;</span><span class="cpf">iostream</span><span class="cpf">></span></span>
<span id="13L" class="Ln"><span class="cp">#</span><span class="cp">include</span> <span class="cpf">&lt;</span><span class="cpf">regex</span><span class="cpf">></span></span>
<span id="14L" class="Ln"></span>
<span id="15L" class="Ln"><span class="kd">using</span> <span class="kd">namespace</span> <a href="xref.hpp.html#synth" class="nn">synth</a>;</span>
<span id="16L" class="Ln"></span>
<span id="17L" class="Ln"><span class="c">// A cursor is the main cursor for a declaration in its file iff:</span></span>
<span id="18L" class="Ln"><span class="c">//  - It is a definition; or</span></span>
<span id="19L" class="Ln"><span class="c">//  - It is the cannonical cursor (as defined by libclang) and the definition</span></span>
<span id="20L" class="Ln"><span class="c">//    is not in the same file (â‰  translation unit).</span></span>
<span id="21L" class="Ln"><span class="kd">static</span> <span class="kt">bool</span> <span class="def decl nf" id="isMainCursor:CXCursor">isMainCursor</span><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">cur</span><span class="p">)</span></span>
<span id="22L" class="Ln"><span class="p">{</span></span>
<span id="23L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">def</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorDefinition:CXCursor" class="nf">clang_getCursorDefinition</a><span class="p">(</span><a href="#21L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="24L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_equalCursors:CXCursor,CXCursor" class="nf">clang_equalCursors</a><span class="p">(</span><a href="#21L" class="nv">cur</a><span class="p">,</span> <a href="#23L" class="nv">def</a><span class="p">)</span><span class="p">)</span></span>
<span id="25L" class="Ln">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span></span>
<span id="26L" class="Ln"></span>
<span id="27L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">canon</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCanonicalCursor:CXCursor" class="nf">clang_getCanonicalCursor</a><span class="p">(</span><a href="#21L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="28L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_equalCursors:CXCursor,CXCursor" class="nf">clang_equalCursors</a><span class="p">(</span><a href="#21L" class="nv">cur</a><span class="p">,</span> <a href="#27L" class="nv">canon</a><span class="p">)</span><span class="p">)</span></span>
<span id="29L" class="Ln">        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span></span>
<span id="30L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXFile" class="nc">CXFile</a> <span class="def decl nv">defF</span><span class="p">;</span></span>
<span id="31L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getFileLocation:CXSourceLocation,CXFile*,unsigned-int*,unsigned-int*,unsigned-int*" class="nf">clang_getFileLocation</a><span class="p">(</span></span>
<span id="32L" class="Ln">        <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorLocation:CXCursor" class="nf">clang_getCursorLocation</a><span class="p">(</span><a href="#23L" class="nv">def</a><span class="p">)</span><span class="p">,</span> <span class="o">&amp;</span><a href="#30L" class="nv">defF</a><span class="p">,</span> <span class="kc">nullptr</span><span class="p">,</span> <span class="kc">nullptr</span><span class="p">,</span> <span class="kc">nullptr</span><span class="p">)</span><span class="p">;</span></span>
<span id="33L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXFile" class="nc">CXFile</a> <span class="def decl nv">curF</span><span class="p">;</span></span>
<span id="34L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getFileLocation:CXSourceLocation,CXFile*,unsigned-int*,unsigned-int*,unsigned-int*" class="nf">clang_getFileLocation</a><span class="p">(</span></span>
<span id="35L" class="Ln">        <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorLocation:CXCursor" class="nf">clang_getCursorLocation</a><span class="p">(</span><a href="#27L" class="nv">canon</a><span class="p">)</span><span class="p">,</span> <span class="o">&amp;</span><a href="#33L" class="nv">curF</a><span class="p">,</span> <span class="kc">nullptr</span><span class="p">,</span> <span class="kc">nullptr</span><span class="p">,</span> <span class="kc">nullptr</span><span class="p">)</span><span class="p">;</span></span>
<span id="36L" class="Ln">    <span class="k">return</span> <span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_File_isEqual:CXFile,CXFile" class="nf">clang_File_isEqual</a><span class="p">(</span><a href="#30L" class="nv">defF</a><span class="p">,</span> <a href="#33L" class="nv">curF</a><span class="p">)</span><span class="p">;</span></span>
<span id="37L" class="Ln"><span class="p">}</span></span>
<span id="38L" class="Ln"></span>
<span id="39L" class="Ln"><span class="kd">static</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/utility/pair" class="nc">pair</a><span class="p">&lt;</span><span class="kt">bool</span><span class="p">,</span> <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a><span class="p">></span> <span class="def decl nf" id="typeAliasRedeclares:CXCursor">typeAliasRedeclares</span><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">decl</span><span class="p">)</span></span>
<span id="40L" class="Ln"><span class="p">{</span></span>
<span id="41L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2985L" class="nc">CXType</a> <span class="def decl nv">aliasTy</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorType:CXCursor" class="nf">clang_getCursorType</a><span class="p">(</span><a href="#39L" class="nv">decl</a><span class="p">)</span><span class="p">;</span></span>
<span id="42L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2985L" class="nc">CXType</a> <span class="def decl nv">canonTy</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCanonicalType:CXType" class="nf">clang_getCanonicalType</a><span class="p">(</span><a href="#41L" class="nv">aliasTy</a><span class="p">)</span><span class="p">;</span></span>
<span id="43L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">canonDecl</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getTypeDeclaration:CXType" class="nf">clang_getTypeDeclaration</a><span class="p">(</span><a href="#42L" class="nv">canonTy</a><span class="p">)</span><span class="p">;</span></span>
<span id="44L" class="Ln">    <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">aliasQName</span> <span class="p">=</span> <a href="xref.hpp.html#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#39L" class="nv">decl</a><span class="p">)</span><span class="p">;</span></span>
<span id="45L" class="Ln">    <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">canonQName</span> <span class="p">=</span> <a href="xref.hpp.html#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#43L" class="nv">canonDecl</a><span class="p">)</span><span class="p">;</span></span>
<span id="46L" class="Ln">    </span>
<span id="47L" class="Ln">    <span class="k">return</span> <span class="p">{</span><a href="#44L" class="nv">aliasQName</a> <span class="p">==</span> <a href="#45L" class="nv">canonQName</a><span class="p">,</span> <a href="#43L" class="nv">canonDecl</a><span class="p">}</span><span class="p">;</span></span>
<span id="48L" class="Ln"><span class="p">}</span></span>
<span id="49L" class="Ln"></span>
<span id="50L" class="Ln"><span class="c">// Returns clang_getCursorReferenced(cur), unless the referenced cursor is a</span></span>
<span id="51L" class="Ln"><span class="c">// type alias or typedef used in an occurence of the "typedef struct S { } S;"</span></span>
<span id="52L" class="Ln"><span class="c">// pattern. In this case, it returns the declaration cursor of the struct</span></span>
<span id="53L" class="Ln"><span class="c">// instead of the type alias.</span></span>
<span id="54L" class="Ln"><span class="kd">static</span> <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nf" id="effectiveReferencedCursor:CXCursor">effectiveReferencedCursor</span><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">cur</span><span class="p">)</span></span>
<span id="55L" class="Ln"><span class="p">{</span></span>
<span id="56L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">refd</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorReferenced:CXCursor" class="nf">clang_getCursorReferenced</a><span class="p">(</span><a href="#54L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="57L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind" class="nc">CXCursorKind</a> <span class="def decl nv">k</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorKind:CXCursor" class="nf">clang_getCursorKind</a><span class="p">(</span><a href="#56L" class="nv">refd</a><span class="p">)</span><span class="p">;</span></span>
<span id="58L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#57L" class="nv">k</a> <span class="o">!=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_TypedefDecl" class="no">CXCursor_TypedefDecl</a> <span class="o">&amp;&amp;</span> <a href="#57L" class="nv">k</a> <span class="o">!=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_TypeAliasDecl" class="no">CXCursor_TypeAliasDecl</a><span class="p">)</span></span>
<span id="59L" class="Ln">        <span class="k">return</span> <a href="#56L" class="nv">refd</a><span class="p">;</span></span>
<span id="60L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">tyRefd</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorReferenced:CXCursor" class="nf">clang_getCursorReferenced</a><span class="p">(</span><a href="#56L" class="nv">refd</a><span class="p">)</span><span class="p">;</span></span>
<span id="61L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_equalCursors:CXCursor,CXCursor" class="nf">clang_equalCursors</a><span class="p">(</span><a href="#56L" class="nv">refd</a><span class="p">,</span> <a href="#60L" class="nv">tyRefd</a><span class="p">)</span><span class="p">)</span></span>
<span id="62L" class="Ln">        <span class="k">return</span> <a href="#56L" class="nv">refd</a><span class="p">;</span></span>
<span id="63L" class="Ln">    </span>
<span id="64L" class="Ln">    <span class="kd">auto</span> <span class="def decl nv">sameAndCanon</span> <span class="p">=</span> <a href="#typeAliasRedeclares:CXCursor" class="nf">typeAliasRedeclares</a><span class="p">(</span><a href="#56L" class="nv">refd</a><span class="p">)</span><span class="p">;</span></span>
<span id="65L" class="Ln">    <span class="k">return</span> <a href="#64L" class="nv">sameAndCanon</a><span class="p">.</span><span class="vi">first</span> <span class="p">?</span> <a href="#64L" class="nv">sameAndCanon</a><span class="p">.</span><span class="vi">second</span> <span class="p">:</span> <a href="#56L" class="nv">refd</a><span class="p">;</span></span>
<span id="66L" class="Ln"><span class="p">}</span></span>
<span id="67L" class="Ln"></span>
<span id="68L" class="Ln"></span>
<span id="69L" class="Ln"><span class="kd">static</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nf" id="relativeUrl:const-fs::path&amp;,const-fs::path&amp;">relativeUrl</span><span class="p">(</span><a href="MultiTuProcessor.hpp.html#21L" class="nn">fs</a><span class="p">::</span><span class="nc">path</span> <span class="kd">const</span><span class="p">&amp;</span> <span class="def decl nv">from</span><span class="p">,</span> <a href="MultiTuProcessor.hpp.html#21L" class="nn">fs</a><span class="p">::</span><span class="nc">path</span> <span class="kd">const</span><span class="p">&amp;</span> <span class="def decl nv">to</span><span class="p">)</span></span>
<span id="70L" class="Ln"><span class="p">{</span></span>
<span id="71L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#69L" class="nv">to</a> <span class="p">==</span> <a href="#69L" class="nv">from</a><span class="p">)</span></span>
<span id="72L" class="Ln">        <span class="k">return</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="73L" class="Ln">    <a href="MultiTuProcessor.hpp.html#21L" class="nn">fs</a><span class="p">::</span><span class="nc">path</span> <span class="def decl nv">r</span> <span class="p">=</span> <a href="#69L" class="nv">to</a><span class="p">.</span><span class="nf">lexically_relative</span><span class="p">(</span><a href="#69L" class="nv">from</a><span class="p">.</span><span class="nf">parent_path</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="74L" class="Ln">    <span class="k">return</span> <a href="#73L" class="nv">r</a> <span class="p">==</span> <span class="s">"."</span> <span class="p">?</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span> <span class="p">:</span> <a href="#73L" class="nv">r</a><span class="p">.</span><span class="nf">string</span><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="75L" class="Ln"><span class="p">}</span></span>
<span id="76L" class="Ln"></span>
<span id="77L" class="Ln"><span class="kd">static</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nf" id="locationUrl:const-fs::path&amp;,const-synth::SymbolDeclaration&amp;">locationUrl</span><span class="p">(</span></span>
<span id="78L" class="Ln">    <a href="MultiTuProcessor.hpp.html#21L" class="nn">fs</a><span class="p">::</span><span class="nc">path</span> <span class="kd">const</span><span class="p">&amp;</span> <span class="def decl nv">outPath</span><span class="p">,</span> <a href="output.hpp.html#synth::SymbolDeclaration" class="nc">SymbolDeclaration</a> <span class="kd">const</span><span class="p">&amp;</span> <span class="def decl nv">dst</span><span class="p">)</span></span>
<span id="79L" class="Ln"><span class="p">{</span></span>
<span id="80L" class="Ln">    <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">r</span> <span class="p">=</span> <a href="#relativeUrl:const-fs::path&amp;,const-fs::path&amp;" class="nf">relativeUrl</a><span class="p">(</span><a href="#78L" class="nv">outPath</a><span class="p">,</span> <a href="#78L" class="nv">dst</a><span class="p">.</span><a href="output.hpp.html#synth::SymbolDeclaration::file" class="vi">file</a><span class="p">-></span><a href="output.hpp.html#synth::HighlightedFile::dstPath" class="nf">dstPath</a><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="81L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="#78L" class="nv">dst</a><span class="p">.</span><a href="output.hpp.html#synth::SymbolDeclaration::fileUniqueName" class="vi">fileUniqueName</a><span class="p">.</span><span class="nf">empty</span><span class="p">(</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span></span>
<span id="82L" class="Ln">        <a href="#80L" class="nv">r</a><span class="p">.</span><span class="nf">reserve</span><span class="p">(</span><a href="#80L" class="nv">r</a><span class="p">.</span><span class="nf">size</span><span class="p">(</span><span class="p">)</span> <span class="o">+</span> <span class="m">1</span> <span class="o">+</span> <a href="#78L" class="nv">dst</a><span class="p">.</span><a href="output.hpp.html#synth::SymbolDeclaration::fileUniqueName" class="vi">fileUniqueName</a><span class="p">.</span><span class="nf">size</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="83L" class="Ln">        <a href="#80L" class="nv">r</a> <span class="p">+=</span> <span class="sc">'#'</span><span class="p">;</span></span>
<span id="84L" class="Ln">        <a href="#80L" class="nv">r</a> <span class="p">+=</span> <a href="#78L" class="nv">dst</a><span class="p">.</span><a href="output.hpp.html#synth::SymbolDeclaration::fileUniqueName" class="vi">fileUniqueName</a><span class="p">;</span></span>
<span id="85L" class="Ln">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><a href="#78L" class="nv">dst</a><span class="p">.</span><a href="output.hpp.html#synth::SymbolDeclaration::lineno" class="vi">lineno</a> <span class="o">!=</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span></span>
<span id="86L" class="Ln">        <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">anchor</span> <span class="p">=</span> <a href="output.hpp.html#synth::lineId:unsigned-int" class="nf">lineId</a><span class="p">(</span><a href="#78L" class="nv">dst</a><span class="p">.</span><a href="output.hpp.html#synth::SymbolDeclaration::lineno" class="vi">lineno</a><span class="p">)</span><span class="p">;</span></span>
<span id="87L" class="Ln">        <a href="#80L" class="nv">r</a><span class="p">.</span><span class="nf">reserve</span><span class="p">(</span><a href="#80L" class="nv">r</a><span class="p">.</span><span class="nf">size</span><span class="p">(</span><span class="p">)</span> <span class="o">+</span> <span class="m">1</span> <span class="o">+</span> <a href="#86L" class="nv">anchor</a><span class="p">.</span><span class="nf">size</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="88L" class="Ln">        <a href="#80L" class="nv">r</a> <span class="p">+=</span> <span class="s">"#"</span><span class="p">;</span></span>
<span id="89L" class="Ln">        <a href="#80L" class="nv">r</a> <span class="p">+=</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><span class="nf">move</span><span class="p">(</span><a href="#86L" class="nv">anchor</a><span class="p">)</span><span class="p">;</span></span>
<span id="90L" class="Ln">    <span class="p">}</span></span>
<span id="91L" class="Ln">    <span class="k">return</span> <a href="#80L" class="nv">r</a><span class="p">;</span></span>
<span id="92L" class="Ln"><span class="p">}</span></span>
<span id="93L" class="Ln"></span>
<span id="94L" class="Ln"><span class="kd">static</span> <span class="kt">void</span> <span class="def decl nf" id="linkSymbol:synth::Markup&amp;,const-synth::SymbolDeclaration*">linkSymbol</span><span class="p">(</span><a href="output.hpp.html#synth::Markup" class="nc">Markup</a><span class="p">&amp;</span> <span class="def decl nv">m</span><span class="p">,</span> <a href="output.hpp.html#synth::SymbolDeclaration" class="nc">SymbolDeclaration</a> <span class="kd">const</span><span class="p">*</span> <span class="def decl nv">sym</span><span class="p">)</span></span>
<span id="95L" class="Ln"><span class="p">{</span></span>
<span id="96L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="#94L" class="nv">sym</a><span class="p">)</span></span>
<span id="97L" class="Ln">        <span class="k">return</span><span class="p">;</span></span>
<span id="98L" class="Ln">    <a href="#94L" class="nv">m</a><span class="p">.</span><a href="output.hpp.html#synth::Markup::refd" class="vi">refd</a> <span class="p">=</span> <span class="p">[</span><a href="#94L" class="nv">sym</a><span class="p">]</span><span class="p">(</span><a href="MultiTuProcessor.hpp.html#21L" class="nn">fs</a><span class="p">::</span><span class="nc">path</span> <span class="kd">const</span><span class="p">&amp;</span> <span class="def decl nv">outPath</span><span class="p">,</span> <a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor" class="nc">MultiTuProcessor</a><span class="p">&amp;</span><span class="def decl p">)</span> <span class="p">{</span></span>
<span id="99L" class="Ln">        <span class="k">return</span> <a href="#locationUrl:const-fs::path&amp;,const-synth::SymbolDeclaration&amp;" class="nf">locationUrl</a><span class="p">(</span><a href="#98L" class="nv">outPath</a><span class="p">,</span> <span class="o">*</span><a href="#94L" class="nv">sym</a><span class="p">)</span><span class="p">;</span></span>
<span id="100L" class="Ln">    <span class="p">}</span><span class="p">;</span></span>
<span id="101L" class="Ln"><span class="p">}</span></span>
<span id="102L" class="Ln"></span>
<span id="103L" class="Ln"><span class="kd">static</span> <span class="kt">void</span> <span class="def decl nf" id="linkDeclCursor:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;">linkDeclCursor</span><span class="p">(</span><a href="output.hpp.html#synth::Markup" class="nc">Markup</a><span class="p">&amp;</span> <span class="def decl nv">m</span><span class="p">,</span> <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">decl</span><span class="p">,</span> <a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor" class="nc">MultiTuProcessor</a><span class="p">&amp;</span> <span class="def decl nv">state</span><span class="p">)</span></span>
<span id="104L" class="Ln"><span class="p">{</span></span>
<span id="105L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXFile" class="nc">CXFile</a> <span class="def decl nv">file</span><span class="p">;</span></span>
<span id="106L" class="Ln">    <span class="kt">unsigned</span> <span class="def decl nv">lineno</span><span class="p">,</span> <span class="def decl nv">offset</span><span class="p">;</span></span>
<span id="107L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getFileLocation:CXSourceLocation,CXFile*,unsigned-int*,unsigned-int*,unsigned-int*" class="nf">clang_getFileLocation</a><span class="p">(</span></span>
<span id="108L" class="Ln">        <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorLocation:CXCursor" class="nf">clang_getCursorLocation</a><span class="p">(</span><a href="#103L" class="nv">decl</a><span class="p">)</span><span class="p">,</span> <span class="o">&amp;</span><a href="#105L" class="nv">file</a><span class="p">,</span> <span class="o">&amp;</span><a href="#106L" class="nv">lineno</a><span class="p">,</span> <span class="kc">nullptr</span><span class="p">,</span> <span class="o">&amp;</span><a href="#106L" class="nv">offset</a><span class="p">)</span><span class="p">;</span></span>
<span id="109L" class="Ln">    <a href="#linkSymbol:synth::Markup&amp;,const-synth::SymbolDeclaration*" class="nf">linkSymbol</a><span class="p">(</span><a href="#103L" class="nv">m</a><span class="p">,</span> <a href="#103L" class="nv">state</a><span class="p">.</span><a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor::referenceSymbol:CXFile,unsigned-int,unsigned-int" class="nf">referenceSymbol</a><span class="p">(</span><a href="#105L" class="nv">file</a><span class="p">,</span> <a href="#106L" class="nv">lineno</a><span class="p">,</span> <a href="#106L" class="nv">offset</a><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="110L" class="Ln"><span class="p">}</span></span>
<span id="111L" class="Ln"></span>
<span id="112L" class="Ln"><span class="kd">static</span> <span class="kt">void</span> <span class="def decl nf" id="linkInclude:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;">linkInclude</span><span class="p">(</span><a href="output.hpp.html#synth::Markup" class="nc">Markup</a><span class="p">&amp;</span> <span class="def decl nv">m</span><span class="p">,</span> <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">incCursor</span><span class="p">,</span> <a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor" class="nc">MultiTuProcessor</a><span class="p">&amp;</span> <span class="def decl nv">state</span><span class="p">)</span></span>
<span id="113L" class="Ln"><span class="p">{</span></span>
<span id="114L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXFile" class="nc">CXFile</a> <span class="def decl nv">file</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getIncludedFile:CXCursor" class="nf">clang_getIncludedFile</a><span class="p">(</span><a href="#112L" class="nv">incCursor</a><span class="p">)</span><span class="p">;</span></span>
<span id="115L" class="Ln">    <a href="#linkSymbol:synth::Markup&amp;,const-synth::SymbolDeclaration*" class="nf">linkSymbol</a><span class="p">(</span><a href="#112L" class="nv">m</a><span class="p">,</span> <a href="#112L" class="nv">state</a><span class="p">.</span><a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor::referenceSymbol:CXFile,unsigned-int,unsigned-int" class="nf">referenceSymbol</a><span class="p">(</span><a href="#114L" class="nv">file</a><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="cp">UINT_MAX</span><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="116L" class="Ln"><span class="p">}</span></span>
<span id="117L" class="Ln"></span>
<span id="118L" class="Ln"><span class="kd">static</span> <span class="kt">void</span> <span class="def decl nf" id="linkExternalDef:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;">linkExternalDef</span><span class="p">(</span><a href="output.hpp.html#synth::Markup" class="nc">Markup</a><span class="p">&amp;</span> <span class="def decl nv">m</span><span class="p">,</span> <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">cur</span><span class="p">,</span> <a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor" class="nc">MultiTuProcessor</a><span class="p">&amp;</span> <span class="def decl nv">state</span><span class="p">)</span></span>
<span id="119L" class="Ln"><span class="p">{</span></span>
<span id="120L" class="Ln">    <a href="CgStr.hpp.html#synth::CgStr" class="nc">CgStr</a> <span class="def decl nv">hUsr</span><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorUSR:CXCursor" class="nf">clang_getCursorUSR</a><span class="p">(</span><a href="#118L" class="nv">cur</a><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="121L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#120L" class="nv">hUsr</a><span class="p">.</span><a href="CgStr.hpp.html#synth::CgStr::empty" class="nf">empty</a><span class="p">(</span><span class="p">)</span><span class="p">)</span></span>
<span id="122L" class="Ln">        <span class="k">return</span><span class="p">;</span></span>
<span id="123L" class="Ln">    <a href="#118L" class="nv">state</a><span class="p">.</span><a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor::linkExternalRef:synth::Markup&amp;,CXCursor" class="nf">linkExternalRef</a><span class="p">(</span><a href="#118L" class="nv">m</a><span class="p">,</span> <a href="#118L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="124L" class="Ln">    <a href="#118L" class="nv">m</a><span class="p">.</span><a href="output.hpp.html#synth::Markup::refd" class="vi">refd</a> <span class="p">=</span> <span class="p">[</span><a href="#124L" class="nv">usr</a> <span class="p">=</span> hUsr<span class="p">.</span>copy<span class="p">(</span><span class="p">)</span><span class="p">,</span> <a href="#124L" class="nv">extRef</a> <span class="p">=</span> std<span class="p">::</span>move<span class="p">(</span>m<span class="p">.</span>refd<span class="p">)</span><span class="p">]</span> <span class="p">(</span></span>
<span id="125L" class="Ln">        <a href="MultiTuProcessor.hpp.html#21L" class="nn">fs</a><span class="p">::</span><span class="nc">path</span> <span class="kd">const</span><span class="p">&amp;</span> <span class="def decl nv">outPath</span><span class="p">,</span> <a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor" class="nc">MultiTuProcessor</a><span class="p">&amp;</span> <span class="def decl nv">state_</span><span class="p">)</span></span>
<span id="126L" class="Ln">    <span class="p">{</span></span>
<span id="127L" class="Ln">        <a href="output.hpp.html#synth::SymbolDeclaration" class="nc">SymbolDeclaration</a> <span class="kd">const</span><span class="p">*</span> <span class="def decl nv">sym</span> <span class="p">=</span> <a href="#125L" class="nv">state_</a><span class="p">.</span><a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor::findMissingDef:const-std::string&amp;" class="nf">findMissingDef</a><span class="p">(</span><a href="#124L" class="nv">usr</a><span class="p">)</span><span class="p">;</span></span>
<span id="128L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="#127L" class="nv">sym</a><span class="p">)</span></span>
<span id="129L" class="Ln">            <span class="k">return</span> <a href="#locationUrl:const-fs::path&amp;,const-synth::SymbolDeclaration&amp;" class="nf">locationUrl</a><span class="p">(</span><a href="#125L" class="nv">outPath</a><span class="p">,</span> <span class="o">*</span><a href="#127L" class="nv">sym</a><span class="p">)</span><span class="p">;</span></span>
<span id="130L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="#124L" class="nv">extRef</a><span class="p">)</span></span>
<span id="131L" class="Ln">            <span class="k">return</span> <a href="#124L" class="nv">extRef</a><span class="p">(</span><a href="#125L" class="nv">outPath</a><span class="p">,</span> <a href="#125L" class="nv">state_</a><span class="p">)</span><span class="p">;</span></span>
<span id="132L" class="Ln">        <span class="k">return</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="133L" class="Ln">    <span class="p">}</span><span class="p">;</span></span>
<span id="134L" class="Ln"><span class="p">}</span></span>
<span id="135L" class="Ln"></span>
<span id="136L" class="Ln"><span class="kt">void</span> <a href="highlight.hpp.html#synth" class="nn">synth</a><span class="p">::</span><span class="def decl nf" id="synth::linkCursor:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;">linkCursor</span><span class="p">(</span><a href="output.hpp.html#synth::Markup" class="nc">Markup</a><span class="p">&amp;</span> <span class="def decl nv">m</span><span class="p">,</span> <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">cur</span><span class="p">,</span> <a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor" class="nc">MultiTuProcessor</a><span class="p">&amp;</span> <span class="def decl nv">state</span><span class="p">)</span></span>
<span id="137L" class="Ln"><span class="p">{</span></span>
<span id="138L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind" class="nc">CXCursorKind</a> <span class="def decl nv">k</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorKind:CXCursor" class="nf">clang_getCursorKind</a><span class="p">(</span><a href="#136L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="139L" class="Ln">    <span class="kt">bool</span> <span class="def decl nv">shouldRef</span> <span class="p">=</span> <span class="kc">false</span><span class="p">;</span></span>
<span id="140L" class="Ln"></span>
<span id="141L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#138L" class="nv">k</a> <span class="o">==</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_InclusionDirective" class="no">CXCursor_InclusionDirective</a><span class="p">)</span> <span class="p">{</span></span>
<span id="142L" class="Ln">        <a href="#linkInclude:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;" class="nf">linkInclude</a><span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">,</span> <a href="#136L" class="nv">cur</a><span class="p">,</span> <a href="#136L" class="nv">state</a><span class="p">)</span><span class="p">;</span></span>
<span id="143L" class="Ln">        <a href="#139L" class="nv">shouldRef</a> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span></span>
<span id="144L" class="Ln">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span></span>
<span id="145L" class="Ln">        <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">referenced</span> <span class="p">=</span> <a href="#effectiveReferencedCursor:CXCursor" class="nf">effectiveReferencedCursor</a><span class="p">(</span><a href="#136L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="146L" class="Ln">        <span class="kt">bool</span> <span class="def decl nv">isref</span> <span class="p">=</span> <span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_Cursor_isNull:CXCursor" class="nf">clang_Cursor_isNull</a><span class="p">(</span><a href="#145L" class="nv">referenced</a><span class="p">)</span></span>
<span id="147L" class="Ln">            <span class="o">&amp;&amp;</span> <span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_equalCursors:CXCursor,CXCursor" class="nf">clang_equalCursors</a><span class="p">(</span><a href="#136L" class="nv">cur</a><span class="p">,</span> <a href="#145L" class="nv">referenced</a><span class="p">)</span><span class="p">;</span></span>
<span id="148L" class="Ln">        <a href="#139L" class="nv">shouldRef</a> <span class="o">=</span> <a href="#146L" class="nv">isref</a><span class="p">;</span></span>
<span id="149L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="#146L" class="nv">isref</a><span class="p">)</span> <span class="p">{</span></span>
<span id="150L" class="Ln">            <a href="CgStr.hpp.html#synth::CgStr" class="nc">CgStr</a> <span class="def decl nv">sp</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorSpelling:CXCursor" class="nf">clang_getCursorSpelling</a><span class="p">(</span><a href="#145L" class="nv">referenced</a><span class="p">)</span><span class="p">;</span></span>
<span id="151L" class="Ln">            <a href="#linkDeclCursor:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;" class="nf">linkDeclCursor</a><span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">,</span> <a href="#145L" class="nv">referenced</a><span class="p">,</span> <a href="#136L" class="nv">state</a><span class="p">)</span><span class="p">;</span></span>
<span id="152L" class="Ln">        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span></span>
<span id="153L" class="Ln">            <span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">.</span><a href="output.hpp.html#synth::Markup::attrs" class="vi">attrs</a> <a href="output.hpp.html#67L" class="p">&amp;</a> <span class="p">(</span><a href="output.hpp.html#synth::TokenAttributes" class="nc">TokenAttributes</a><span class="p">::</span><a href="output.hpp.html#synth::TokenAttributes::flagDef" class="no">flagDef</a> <a href="output.hpp.html#66L" class="p">|</a> <a href="output.hpp.html#synth::TokenAttributes" class="nc">TokenAttributes</a><span class="p">::</span><a href="output.hpp.html#synth::TokenAttributes::flagDecl" class="no">flagDecl</a><span class="p">)</span><span class="p">)</span></span>
<span id="154L" class="Ln">            <span class="o">!=</span> <a href="output.hpp.html#synth::TokenAttributes" class="nc">TokenAttributes</a><span class="p">::</span><a href="output.hpp.html#synth::TokenAttributes::none" class="no">none</a></span>
<span id="155L" class="Ln">        <span class="p">)</span> <span class="p">{</span></span>
<span id="156L" class="Ln">            <span class="k">if</span> <span class="p">(</span><span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">.</span><a href="output.hpp.html#synth::Markup::attrs" class="vi">attrs</a> <a href="output.hpp.html#67L" class="p">&amp;</a> <a href="output.hpp.html#synth::TokenAttributes" class="nc">TokenAttributes</a><span class="p">::</span><a href="output.hpp.html#synth::TokenAttributes::flagDef" class="no">flagDef</a><span class="p">)</span> <span class="o">==</span> <a href="output.hpp.html#synth::TokenAttributes" class="nc">TokenAttributes</a><span class="p">::</span><a href="output.hpp.html#synth::TokenAttributes::none" class="no">none</a><span class="p">)</span></span>
<span id="157L" class="Ln">                <a href="#linkExternalDef:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;" class="nf">linkExternalDef</a><span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">,</span> <a href="#136L" class="nv">cur</a><span class="p">,</span> <a href="#136L" class="nv">state</a><span class="p">)</span><span class="p">;</span></span>
<span id="158L" class="Ln">            <a href="#139L" class="nv">shouldRef</a> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span></span>
<span id="159L" class="Ln">        <span class="p">}</span></span>
<span id="160L" class="Ln">    <span class="p">}</span></span>
<span id="161L" class="Ln"></span>
<span id="162L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="#139L" class="nv">shouldRef</a> <span class="o">||</span> <a href="#136L" class="nv">m</a><span class="p">.</span><a href="output.hpp.html#synth::Markup::isRef" class="nf">isRef</a><span class="p">(</span><span class="p">)</span><span class="p">)</span></span>
<span id="163L" class="Ln">        <span class="k">return</span><span class="p">;</span></span>
<span id="164L" class="Ln">    <a href="#136L" class="nv">state</a><span class="p">.</span><a href="MultiTuProcessor.hpp.html#synth::MultiTuProcessor::linkExternalRef:synth::Markup&amp;,CXCursor" class="nf">linkExternalRef</a><span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">,</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><span class="nf">move</span><span class="p">(</span><a href="#136L" class="nv">cur</a><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="165L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">.</span><a href="output.hpp.html#synth::Markup::isRef" class="nf">isRef</a><span class="p">(</span><span class="p">)</span><span class="p">)</span></span>
<span id="166L" class="Ln">        <span class="k">return</span><span class="p">;</span></span>
<span id="167L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">specialized</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getSpecializedCursorTemplate:CXCursor" class="nf">clang_getSpecializedCursorTemplate</a><span class="p">(</span><a href="#136L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="168L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_Cursor_isNull:CXCursor" class="nf">clang_Cursor_isNull</a><span class="p">(</span><a href="#167L" class="nv">specialized</a><span class="p">)</span></span>
<span id="169L" class="Ln">        <span class="o">&amp;&amp;</span> <span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_equalCursors:CXCursor,CXCursor" class="nf">clang_equalCursors</a><span class="p">(</span><a href="#136L" class="nv">cur</a><span class="p">,</span> <a href="#167L" class="nv">specialized</a><span class="p">)</span></span>
<span id="170L" class="Ln">    <span class="p">)</span> <span class="p">{</span></span>
<span id="171L" class="Ln">        <a href="#linkDeclCursor:synth::Markup&amp;,CXCursor,synth::MultiTuProcessor&amp;" class="nf">linkDeclCursor</a><span class="p">(</span><a href="#136L" class="nv">m</a><span class="p">,</span> <a href="#167L" class="nv">specialized</a><span class="p">,</span> <a href="#136L" class="nv">state</a><span class="p">)</span><span class="p">;</span></span>
<span id="172L" class="Ln">    <span class="p">}</span></span>
<span id="173L" class="Ln"><span class="p">}</span></span>
<span id="174L" class="Ln"></span>
<span id="175L" class="Ln"><a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <a href="highlight.hpp.html#synth" class="nn">synth</a><span class="p">::</span><span class="def decl nf" id="synth::fileUniqueName:CXCursor,bool">fileUniqueName</span><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">cur</span><span class="p">,</span> <span class="kt">bool</span> <span class="def decl nv">isC</span><span class="p">)</span></span>
<span id="176L" class="Ln"><span class="p">{</span></span>
<span id="177L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="xref.hpp.html#synth::isNamespaceLevelDeclaration:CXCursor" class="nf">isNamespaceLevelDeclaration</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">)</span></span>
<span id="178L" class="Ln">        <span class="k">return</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="179L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="#isMainCursor:CXCursor" class="nf">isMainCursor</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">)</span></span>
<span id="180L" class="Ln">        <span class="k">return</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="181L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind" class="nc">CXCursorKind</a> <span class="def decl nv">k</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorKind:CXCursor" class="nf">clang_getCursorKind</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="182L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="highlight.hpp.html#synth::isTypeCursorKind:CXCursorKind" class="nf">isTypeCursorKind</a><span class="p">(</span><a href="#181L" class="nv">k</a><span class="p">)</span><span class="p">)</span> <span class="p">{</span></span>
<span id="183L" class="Ln">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="#175L" class="nv">isC</a><span class="p">)</span> <span class="p">{</span></span>
<span id="184L" class="Ln">            <span class="k">if</span> <span class="p">(</span><span class="p">(</span><a href="#181L" class="nv">k</a> <span class="o">==</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_TypeAliasDecl" class="no">CXCursor_TypeAliasDecl</a> <span class="o">||</span> <a href="#181L" class="nv">k</a> <span class="o">==</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_TypedefDecl" class="no">CXCursor_TypedefDecl</a><span class="p">)</span></span>
<span id="185L" class="Ln">                <span class="o">&amp;&amp;</span> <a href="#typeAliasRedeclares:CXCursor" class="nf">typeAliasRedeclares</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">.</span><span class="vi">first</span></span>
<span id="186L" class="Ln">            <span class="p">)</span> <span class="p">{</span></span>
<span id="187L" class="Ln">                <span class="k">return</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="188L" class="Ln">            <span class="p">}</span></span>
<span id="189L" class="Ln">            <span class="k">return</span> <a href="xref.hpp.html#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="190L" class="Ln">        <span class="p">}</span></span>
<span id="191L" class="Ln"></span>
<span id="192L" class="Ln">        <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">qname</span> <span class="p">=</span> <a href="xref.hpp.html#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="193L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="#192L" class="nv">qname</a><span class="p">.</span><span class="nf">empty</span><span class="p">(</span><span class="p">)</span><span class="p">)</span></span>
<span id="194L" class="Ln">            <span class="k">return</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="195L" class="Ln"></span>
<span id="196L" class="Ln">        <span class="c">// C allows to have struct S and another non-struct symbol S at the</span></span>
<span id="197L" class="Ln">        <span class="c">// same time. They are distinguished by writing struct in front e.g.</span></span>
<span id="198L" class="Ln">        <span class="c">// "void S(struct S arg) { /* ... */ }"</span></span>
<span id="199L" class="Ln">        <span class="c">// A common pattern is thus "typedef struct S { } S;" We need to make</span></span>
<span id="200L" class="Ln">        <span class="c">// sure that we handle that correctly.</span></span>
<span id="201L" class="Ln">        <span class="c">// Same goes for enum and union.</span></span>
<span id="202L" class="Ln">        <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">prefix</span><span class="p">;</span></span>
<span id="203L" class="Ln">        <a href="config.hpp.html#5L" class="cp">SYNTH_DISCLANGWARN_BEGIN</a>(<span class="l">"-Wswitch-enum"</span>)</span>
<span id="204L" class="Ln">        <span class="k">switch</span> <span class="p">(</span><a href="#181L" class="nv">k</a><span class="p">)</span> <span class="p">{</span></span>
<span id="205L" class="Ln">            <span class="k">case</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_StructDecl" class="no">CXCursor_StructDecl</a><span class="p">:</span></span>
<span id="206L" class="Ln">                <a href="#202L" class="nv">prefix</a> <span class="p">=</span> <span class="sc">'s'</span><span class="p">;</span></span>
<span id="207L" class="Ln">                <span class="k">break</span><span class="p">;</span></span>
<span id="208L" class="Ln">            <span class="k">case</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_EnumDecl" class="no">CXCursor_EnumDecl</a><span class="p">:</span></span>
<span id="209L" class="Ln">                <a href="#202L" class="nv">prefix</a> <span class="p">=</span> <span class="sc">'e'</span><span class="p">;</span></span>
<span id="210L" class="Ln">                <span class="k">break</span><span class="p">;</span></span>
<span id="211L" class="Ln">            <span class="k">case</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_UnionDecl" class="no">CXCursor_UnionDecl</a><span class="p">:</span></span>
<span id="212L" class="Ln">                <a href="#202L" class="nv">prefix</a> <span class="p">=</span> <span class="sc">'u'</span><span class="p">;</span></span>
<span id="213L" class="Ln">                <span class="k">break</span><span class="p">;</span></span>
<span id="214L" class="Ln">            <span class="k">case</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind::CXCursor_TypedefDecl" class="no">CXCursor_TypedefDecl</a><span class="p">:</span></span>
<span id="215L" class="Ln">                <span class="k">break</span><span class="p">;</span></span>
<span id="216L" class="Ln">            <span class="k">default</span><span class="p">:</span></span>
<span id="217L" class="Ln">                <span class="cp">assert</span>(<span class="s">"unreachable"</span> <span class="p">&amp;&amp;</span> <span class="kc">false</span>)<span class="p">;</span></span>
<span id="218L" class="Ln">        <span class="p">}</span></span>
<span id="219L" class="Ln">        <a href="config.hpp.html#8L" class="cp">SYNTH_DISCLANGWARN_END</a></span>
<span id="220L" class="Ln">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="#202L" class="nv">prefix</a><span class="p">.</span><span class="nf">empty</span><span class="p">(</span><span class="p">)</span><span class="p">)</span></span>
<span id="221L" class="Ln">            <a href="#202L" class="nv">prefix</a> <span class="p">+=</span> <span class="sc">':'</span><span class="p">;</span></span>
<span id="222L" class="Ln">        <a href="#192L" class="nv">qname</a><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><span class="nf">move</span><span class="p">(</span><a href="#202L" class="nv">prefix</a><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="223L" class="Ln">        <span class="k">return</span> <a href="#192L" class="nv">qname</a><span class="p">;</span></span>
<span id="224L" class="Ln">    <span class="p">}</span></span>
<span id="225L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="highlight.hpp.html#synth::isFunctionCursorKind:CXCursorKind" class="nf">isFunctionCursorKind</a><span class="p">(</span><a href="#181L" class="nv">k</a><span class="p">)</span><span class="p">)</span> <span class="p">{</span></span>
<span id="226L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="#175L" class="nv">isC</a><span class="p">)</span></span>
<span id="227L" class="Ln">            <span class="k">return</span> <a href="CgStr.hpp.html#synth::CgStr" class="nc">CgStr</a><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorSpelling:CXCursor" class="nf">clang_getCursorSpelling</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">)</span><span class="p">.</span><a href="CgStr.hpp.html#synth::CgStr::gets" class="nf">gets</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="228L" class="Ln"></span>
<span id="229L" class="Ln">        <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">r</span> <span class="p">=</span> <a href="xref.hpp.html#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="230L" class="Ln">        <a href="../lib-llvm/include/clang-c/Index.h.html#2985L" class="nc">CXType</a> <span class="def decl nv">ty</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorType:CXCursor" class="nf">clang_getCursorType</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="231L" class="Ln">        <span class="kt">int</span> <span class="def decl nv">nargs</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getNumArgTypes:CXType" class="nf">clang_getNumArgTypes</a><span class="p">(</span><a href="#230L" class="nv">ty</a><span class="p">)</span><span class="p">;</span></span>
<span id="232L" class="Ln">        <span class="cp">assert</span>(<a href="#231L" class="nv">nargs</a> <span class="p">>=</span> <span class="m">0</span>)<span class="p">;</span></span>
<span id="233L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="#231L" class="nv">nargs</a> <span class="o">></span> <span class="m">0</span> <span class="o">||</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_isFunctionTypeVariadic:CXType" class="nf">clang_isFunctionTypeVariadic</a><span class="p">(</span><a href="#230L" class="nv">ty</a><span class="p">)</span><span class="p">)</span> <span class="p">{</span></span>
<span id="234L" class="Ln">            <a href="#229L" class="nv">r</a> <span class="p">+=</span> <span class="sc">':'</span><span class="p">;</span></span>
<span id="235L" class="Ln">            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="def decl nv">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <a href="#235L" class="nv">i</a> <span class="o">&lt;</span> <a href="#231L" class="nv">nargs</a><span class="p">;</span> <span class="o">++</span><a href="#235L" class="nv">i</a><span class="p">)</span> <span class="p">{</span></span>
<span id="236L" class="Ln">                <span class="k">if</span> <span class="p">(</span><a href="#235L" class="nv">i</a> <span class="o">!=</span> <span class="m">0</span><span class="p">)</span></span>
<span id="237L" class="Ln">                    <a href="#229L" class="nv">r</a> <span class="p">+=</span> <span class="sc">','</span><span class="p">;</span></span>
<span id="238L" class="Ln">                <a href="../lib-llvm/include/clang-c/Index.h.html#2985L" class="nc">CXType</a> <span class="def decl nv">argTy</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getArgType:CXType,unsigned-int" class="nf">clang_getArgType</a><span class="p">(</span><a href="#230L" class="nv">ty</a><span class="p">,</span> <span class="k">static_cast</span><span class="p">&lt;</span><span class="kt">unsigned</span><span class="p">></span><span class="p">(</span><a href="#235L" class="nv">i</a><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="239L" class="Ln">                <a href="#229L" class="nv">r</a> <span class="p">+=</span> <a href="CgStr.hpp.html#synth::CgStr" class="nc">CgStr</a><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_getTypeSpelling:CXType" class="nf">clang_getTypeSpelling</a><span class="p">(</span><a href="#238L" class="nv">argTy</a><span class="p">)</span><span class="p">)</span><span class="p">.</span><a href="CgStr.hpp.html#synth::CgStr::gets" class="nf">gets</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="240L" class="Ln">            <span class="p">}</span></span>
<span id="241L" class="Ln">            <span class="c">// Leading space, trailing space and space adjancent to a non-word</span></span>
<span id="242L" class="Ln">            <span class="c">// character is discardable.</span></span>
<span id="243L" class="Ln">            <a href="config.hpp.html#5L" class="cp">SYNTH_DISCLANGWARN_BEGIN</a>(<span class="l">"-Wexit-time-destructors"</span>)</span>
<span id="244L" class="Ln">            <span class="kd">static</span> <span class="kd">const</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/regex/basic_regex" class="nc">regex</a> <span class="def decl nv">discardableSpace</span><span class="p">(</span></span>
<span id="245L" class="Ln">                <span class="s">R"((?:^ )|(?: $)|(\W) | (\W))"</span><span class="p">)</span><span class="p">;</span></span>
<span id="246L" class="Ln">            <a href="config.hpp.html#8L" class="cp">SYNTH_DISCLANGWARN_END</a></span>
<span id="247L" class="Ln">            <a href="#229L" class="nv">r</a> <span class="p">=</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><span class="nf">regex_replace</span><span class="p">(</span><a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><span class="nf">move</span><span class="p">(</span><a href="#229L" class="nv">r</a><span class="p">)</span><span class="p">,</span> <a href="#244L" class="nv">discardableSpace</a><span class="p">,</span> <span class="s">"$1$2"</span><span class="p">)</span><span class="p">;</span></span>
<span id="248L" class="Ln">            <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><span class="nf">replace</span><span class="p">(</span><a href="#229L" class="nv">r</a><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="p">)</span><span class="p">,</span> <a href="#229L" class="nv">r</a><span class="p">.</span><span class="nf">end</span><span class="p">(</span><span class="p">)</span><span class="p">,</span> <span class="sc">' '</span><span class="p">,</span> <span class="sc">'-'</span><span class="p">)</span><span class="p">;</span></span>
<span id="249L" class="Ln">            <span class="k">if</span> <span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_isFunctionTypeVariadic:CXType" class="nf">clang_isFunctionTypeVariadic</a><span class="p">(</span><a href="#230L" class="nv">ty</a><span class="p">)</span><span class="p">)</span> <span class="p">{</span></span>
<span id="250L" class="Ln">                <span class="k">if</span> <span class="p">(</span><a href="#231L" class="nv">nargs</a> <span class="o">></span> <span class="m">0</span><span class="p">)</span></span>
<span id="251L" class="Ln">                    <a href="#229L" class="nv">r</a> <span class="p">+=</span> <span class="sc">','</span><span class="p">;</span></span>
<span id="252L" class="Ln">                <a href="#229L" class="nv">r</a> <span class="p">+=</span> <span class="s">"..."</span><span class="p">;</span></span>
<span id="253L" class="Ln">            <span class="p">}</span></span>
<span id="254L" class="Ln">        <span class="p">}</span></span>
<span id="255L" class="Ln">        <span class="k">return</span> <a href="#229L" class="nv">r</a><span class="p">;</span></span>
<span id="256L" class="Ln">    <span class="p">}</span></span>
<span id="257L" class="Ln">    <span class="k">return</span> <a href="xref.hpp.html#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#175L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="258L" class="Ln"><span class="p">}</span></span>
<span id="259L" class="Ln"></span>
<span id="260L" class="Ln"><a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <a href="highlight.hpp.html#synth" class="nn">synth</a><span class="p">::</span><span class="def decl nf" id="synth::simpleQualifiedName:CXCursor">simpleQualifiedName</span><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">cur</span><span class="p">)</span></span>
<span id="261L" class="Ln"><span class="p">{</span></span>
<span id="262L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind" class="nc">CXCursorKind</a> <span class="def decl nv">k</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorKind:CXCursor" class="nf">clang_getCursorKind</a><span class="p">(</span><a href="#260L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="263L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_isInvalid:enum-CXCursorKind" class="nf">clang_isInvalid</a><span class="p">(</span><a href="#262L" class="nv">k</a><span class="p">)</span> <span class="o">||</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_isTranslationUnit:enum-CXCursorKind" class="nf">clang_isTranslationUnit</a><span class="p">(</span><a href="#262L" class="nv">k</a><span class="p">)</span><span class="p">)</span></span>
<span id="264L" class="Ln">        <span class="k">return</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="265L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">tpl</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getSpecializedCursorTemplate:CXCursor" class="nf">clang_getSpecializedCursorTemplate</a><span class="p">(</span><a href="#260L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="266L" class="Ln">    <a href="CgStr.hpp.html#synth::CgStr" class="nc">CgStr</a> <span class="def decl nv">name</span> <span class="p">=</span></span>
<span id="267L" class="Ln">            <a href="../lib-llvm/include/clang-c/Index.h.html#clang_equalCursors:CXCursor,CXCursor" class="nf">clang_equalCursors</a><span class="p">(</span><a href="#265L" class="nv">tpl</a><span class="p">,</span> <a href="#260L" class="nv">cur</a><span class="p">)</span></span>
<span id="268L" class="Ln">            <span class="o">||</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_isInvalid:enum-CXCursorKind" class="nf">clang_isInvalid</a><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorKind:CXCursor" class="nf">clang_getCursorKind</a><span class="p">(</span><a href="#265L" class="nv">tpl</a><span class="p">)</span><span class="p">)</span></span>
<span id="269L" class="Ln">        <span class="p">?</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorSpelling:CXCursor" class="nf">clang_getCursorSpelling</a><span class="p">(</span><a href="#260L" class="nv">cur</a><span class="p">)</span> <span class="p">:</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorDisplayName:CXCursor" class="nf">clang_getCursorDisplayName</a><span class="p">(</span><a href="#260L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="270L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">parent</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorSemanticParent:CXCursor" class="nf">clang_getCursorSemanticParent</a><span class="p">(</span><a href="#260L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="271L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#266L" class="nv">name</a><span class="p">.</span><a href="CgStr.hpp.html#synth::CgStr::empty" class="nf">empty</a><span class="p">(</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span></span>
<span id="272L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="highlight.hpp.html#synth::isTypeCursorKind:CXCursorKind" class="nf">isTypeCursorKind</a><span class="p">(</span><a href="#262L" class="nv">k</a><span class="p">)</span><span class="p">)</span> <span class="p">{</span></span>
<span id="273L" class="Ln">            <a href="#266L" class="nv">name</a> <a href="CgStr.hpp.html#synth::CgStr::operator=:synth::CgStr&amp;&amp;" class="p">=</a> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getTypeSpelling:CXType" class="nf">clang_getTypeSpelling</a><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorType:CXCursor" class="nf">clang_getCursorType</a><span class="p">(</span><a href="#260L" class="nv">cur</a><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="274L" class="Ln">        <span class="p">}</span></span>
<span id="275L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="#266L" class="nv">name</a><span class="p">.</span><a href="CgStr.hpp.html#synth::CgStr::empty" class="nf">empty</a><span class="p">(</span><span class="p">)</span><span class="p">)</span></span>
<span id="276L" class="Ln">            <span class="k">return</span> <a href="#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#270L" class="nv">parent</a><span class="p">)</span><span class="p">;</span></span>
<span id="277L" class="Ln">    <span class="p">}</span></span>
<span id="278L" class="Ln">    <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><a href="http://en.cppreference.com/w/cpp/string/basic_string" class="nc">string</a> <span class="def decl nv">pname</span> <span class="p">=</span> <a href="#synth::simpleQualifiedName:CXCursor" class="nf">simpleQualifiedName</a><span class="p">(</span><a href="#270L" class="nv">parent</a><span class="p">)</span><span class="p">;</span></span>
<span id="279L" class="Ln">    <span class="k">return</span> <a href="#278L" class="nv">pname</a><span class="p">.</span><span class="nf">empty</span><span class="p">(</span><span class="p">)</span> <span class="p">?</span> <a href="#266L" class="nv">name</a><span class="p">.</span><a href="CgStr.hpp.html#synth::CgStr::get" class="nf">get</a><span class="p">(</span><span class="p">)</span> <span class="p">:</span> <a href="http://en.cppreference.com/w/" class="nn">std</a><span class="p">::</span><span class="nf">move</span><span class="p">(</span><a href="#278L" class="nv">pname</a><span class="p">)</span> <span class="p">+</span> <span class="s">"::"</span> <span class="p">+</span> <a href="#266L" class="nv">name</a><span class="p">.</span><a href="CgStr.hpp.html#synth::CgStr::get" class="nf">get</a><span class="p">(</span><span class="p">)</span><span class="p">;</span></span>
<span id="280L" class="Ln"><span class="p">}</span></span>
<span id="281L" class="Ln"></span>
<span id="282L" class="Ln"><span class="kt">bool</span> <a href="highlight.hpp.html#synth" class="nn">synth</a><span class="p">::</span><span class="def decl nf" id="synth::isNamespaceLevelDeclaration:CXCursor">isNamespaceLevelDeclaration</span><span class="p">(</span><a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="nc">CXCursor</a> <span class="def decl nv">cur</span><span class="p">)</span></span>
<span id="283L" class="Ln"><span class="p">{</span></span>
<span id="284L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXLinkageKind" class="nc">CXLinkageKind</a> <span class="def decl nv">linkage</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorLinkage:CXCursor" class="nf">clang_getCursorLinkage</a><span class="p">(</span><a href="#282L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="285L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#284L" class="nv">linkage</a> <span class="o">==</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXLinkageKind::CXLinkage_Invalid" class="no">CXLinkage_Invalid</a><span class="p">)</span></span>
<span id="286L" class="Ln">        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span></span>
<span id="287L" class="Ln">    <span class="k">if</span> <span class="p">(</span><a href="#284L" class="nv">linkage</a> <span class="o">!=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#CXLinkageKind::CXLinkage_NoLinkage" class="no">CXLinkage_NoLinkage</a><span class="p">)</span></span>
<span id="288L" class="Ln">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span></span>
<span id="289L" class="Ln"></span>
<span id="290L" class="Ln">    <a href="../lib-llvm/include/clang-c/Index.h.html#CXCursorKind" class="nc">CXCursorKind</a> <span class="def decl nv">k</span> <span class="p">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorKind:CXCursor" class="nf">clang_getCursorKind</a><span class="p">(</span><a href="#282L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="291L" class="Ln">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><a href="highlight.hpp.html#synth::isTypeAliasCursorKind:CXCursorKind" class="nf">isTypeAliasCursorKind</a><span class="p">(</span><a href="#290L" class="nv">k</a><span class="p">)</span><span class="p">)</span></span>
<span id="292L" class="Ln">        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span></span>
<span id="293L" class="Ln"></span>
<span id="294L" class="Ln">    <span class="c">// We need to walk up the parents to check if they are inside a</span></span>
<span id="295L" class="Ln">    <span class="c">// function.</span></span>
<span id="296L" class="Ln">    <span class="k">do</span> <span class="p">{</span></span>
<span id="297L" class="Ln">        <a href="#282L" class="nv">cur</a> <a href="../lib-llvm/include/clang-c/Index.h.html#2385L" class="p">=</a> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorSemanticParent:CXCursor" class="nf">clang_getCursorSemanticParent</a><span class="p">(</span><a href="#282L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="298L" class="Ln">        <a href="#290L" class="nv">k</a> <span class="o">=</span> <a href="../lib-llvm/include/clang-c/Index.h.html#clang_getCursorKind:CXCursor" class="nf">clang_getCursorKind</a><span class="p">(</span><a href="#282L" class="nv">cur</a><span class="p">)</span><span class="p">;</span></span>
<span id="299L" class="Ln">        <span class="k">if</span> <span class="p">(</span><a href="highlight.hpp.html#synth::isFunctionCursorKind:CXCursorKind" class="nf">isFunctionCursorKind</a><span class="p">(</span><a href="#290L" class="nv">k</a><span class="p">)</span><span class="p">)</span></span>
<span id="300L" class="Ln">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span></span>
<span id="301L" class="Ln">    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_isInvalid:enum-CXCursorKind" class="nf">clang_isInvalid</a><span class="p">(</span><a href="#290L" class="nv">k</a><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><a href="../lib-llvm/include/clang-c/Index.h.html#clang_isTranslationUnit:enum-CXCursorKind" class="nf">clang_isTranslationUnit</a><span class="p">(</span><a href="#290L" class="nv">k</a><span class="p">)</span><span class="p">)</span><span class="p">;</span></span>
<span id="302L" class="Ln">    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span></span>
<span id="303L" class="Ln"><span class="p">}</span></span>
<span id="304L" class="Ln"></span>
<span id="305L" class="Ln"></span>
</pre></div>
        <script src="../code.js"></script>
    </body>
</html>
